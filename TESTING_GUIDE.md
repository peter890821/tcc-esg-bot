# TCC ESG Bot 升級測試指南

## 快速驗證流程

### 1. 安裝與啟動

```bash
# 安裝依賴
pip install -r requirements.txt

# 啟動應用
streamlit run app.py
```

### 2. 測試向量檢索（同義詞理解）

**測試問題**：
```
脫碳路徑
```

**驗證標準**：
- ✅ 能找到包含「減排」、「低碳」、「淨零」的文件
- ✅ 相關度分數 > 60%
- ✅ Top-5 至少 3 篇相關

### 3. 測試表格解析

上傳包含表格的 PDF 後，提問：
```
2024 年 Scope 1 排放量是多少？
```

**驗證標準**：
- ✅ References 中看到 `[表格]` 標記
- ✅ AI 正確讀取表格數字
- ✅ 不會出現混亂的字串

### 4. 測試 Metadata 篩選

**操作步驟**：
1. 上傳多個年份的文件（2023, 2024）
2. 側邊欄選擇「只顯示 2024 年」
3. 提問：「去年的碳排放」

**驗證標準**：
- ✅ 僅從 2024 年文件檢索
- ✅ References 顯示成功篩選

### 5. 測試框架引用

**測試問題**：
```
IFRS S2 對氣候風險有哪些揭露要求？
```

**驗證標準**：
- ✅ AI 回答包含「IFRS S2 第 XX 條」
- ✅ 有結構化的回答格式
- ✅ 提供 TCC 具體建議

## 常見異常處理

### 問題：向量資料庫初始化慢
**原因**：首次嵌入大量文件
**解決**：等待完成後會自動快取

### 問題：Unstructured 安裝失敗
**解決**：
```bash
pip install unstructured[pdf] --no-cache-dir
```

### 問題：民國年無法識別
**檢查**：文件內容前 2000 字是否包含「民國 XXX 年」

## 效能指標

- 向量資料庫初始化：< 10 秒（100 個文件）
- 單次查詢：2-5 秒
- 記憶體使用：< 500MB
